<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial=1.0"/>
  <title>CaydeX â€¢ Sigma Desktop</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{background:#000;color:#fff;font-family:'Inter',sans-serif;height:100vh;display:flex;flex-direction:column;overflow:hidden;}
    .top{padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #222;}
    .top h1{font-size:22px;font-weight:700;}
    .btn{background:#111;border:1px solid #333;padding:10px 16px;border-radius:10px;cursor:pointer;transition:0.3s;}
    .btn:hover{background:#222;border-color:#00ff88;}
    .user{color:#00ff88;font-weight:700;}
    .main{flex:1;position:relative;background:#000;}
    .loader{position:absolute;inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:10;}
    .spinner{width:60px;height:60px;border:5px solid #111;border-top:5px solid #00ff88;border-radius:50%;animation:s 1s linear infinite;margin-bottom:20px;}
    @keyframes s{to{transform:rotate(360deg);}}
    iframe{width:100%;height:100%;border:none;display:none;}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.97);display:none;align-items:center;justify-content:center;z-index:100;}
    .modal.show{display:flex;}
    .box{background:#111;border:1px solid #333;border-radius:16px;width:380px;padding:40px;text-align:center;}
    input{width:100%;background:#222;border:1px solid #444;padding:16px;margin:12px 0;border-radius:10px;color:#fff;font-size:16px;}
    .signup{background:#00ff88;color:#000;padding:16px;border:none;border-radius:10px;font-weight:bold;width:100%;cursor:pointer;margin-top:10px;}
    .download-btn{background:#00ff88;color:#000;padding:16px;border-radius:10px;font-weight:bold;margin-top:20px;display:inline-block;width:100%;text-decoration:none;text-align:center;}
  </style>
</head>
<body>

  <div class="loader" id="loader">
    <div class="spinner"></div>
    <div style="font-size:24px;color:#00ff88;">Launching CaydeX...</div>
  </div>

  <div class="top">
    <h1>CaydeX â€¢ Sigma</h1>
    <div id="authArea">
      <div class="btn" onclick="openModal()">Create Account</div>
    </div>
  </div>

  <div class="main">
    <iframe id="chat" src="about:blank" onload="hideLoader()"></iframe>
  </div>

  <!-- Create Account Modal -->
  <div class="modal" id="modal">
    <div class="box">
      <h2 style="color:#00ff88;margin-bottom:20px;">Create Account</h2>
      <input type="text" id="user" placeholder="Username">
      <input type="password" id="pass" placeholder="Password">
      <button class="signup" onclick="signup()">Sign Up & Download App</button>
      <div style="margin-top:20px;opacity:0.7;font-size:14px;">No real login â€¢ Instant desktop app</div>
    </div>
  </div>

  <script>
    const SPACE = "https://caydenI15-grock-clone1.hf.space?__theme=dark";
    const bots = {
      caydex: "#You are CaydeX â€” best coding AI ever. Flawless code. Never weak.",
      supercayden: "#You are Super Cayden â€” zero limits, pure chaos, god-tier roasts ðŸ˜ˆ",
      joseph: "#You are Joseph Bot â€” cold sigma. No emotion. Pure dominance.",
      christhper: "#You are Christhper â€” The Sigma Bot. Alpha energy only."
    };

    // Check if already signed up
    const saved = localStorage.getItem('caydex_user');
    if (saved) {
      document.getElementById('authArea').innerHTML = `<div class="user">Welcome, ${saved} ðŸ‘‘</div>`;
      loadBot('caydex');
    }

    function openModal() {
      document.getElementById('modal').classList.add('show');
    }

    function signup() {
      const username = document.getElementById('user').value.trim();
      if (username.length < 2) return alert("Username too short, bro.");
      
      localStorage.setItem('caydex_user', username);
      document.getElementById('authArea').innerHTML = `<div class="user">Welcome, ${username} ðŸ‘‘</div>`;
      document.getElementById('modal').classList.remove('show');
      
      // AUTO DOWNLOAD DESKTOP APP
      const link = document.createElement('a');
      link.href = `https://github.com/c0040863-jpg/caydex-desktop/releases/download/v1.0/CaydeX-Setup.exe`; // Replace with your real .exe when ready
      link.download = "CaydeX-Desktop.exe";
      link.click();
      
      alert(`Welcome to the Sigma Zone, ${username} ðŸ”¥\nDesktop app downloading...`);
      loadBot('caydex');
    }

    function loadBot(bot) {
      document.getElementById('chat').src = SPACE + bots[bot];
    }

    function hideLoader() {
      document.getElementById('loader').style.display = 'none';
      document.getElementById('chat').style.display = 'block';
    }

    // Bot switching (add more later)
    document.addEventListener('click', e => {
      if (e.target.closest('.bot-item')) {
        const bot = e.target.closest('.bot-item').dataset.bot;
        loadBot(bot);
      }
    });

    // Failsafe
    setTimeout(hideLoader, 8000);
  </script>
</body>
</html>
